<!DOCTYPE html>
<html>
 <head>
   <title>CommCare iframe Demo</title>
   <script>
     window.addEventListener('message', function (messageEvent) {
       document.getElementById("name").value = messageEvent.data[0].name;
       const mainWindow = messageEvent.source;
       document.getElementById("save").addEventListener('click', function (clickEvent) {
         const newName = document.getElementById("name").value;
         mainWindow.postMessage(newName, messageEvent.origin);
       });
     });

   </script>
 </head>
 <body>
   <label for="name">Change Case Name:</label>
   <input id='name' />
   <button id='save' >Save</button>
   <script>
     window.addEventListener("DOMContentLoaded", function() {
       // signal the parent that iframe content is loaded.
       // https://stackoverflow.com/a/13888738/8207
       window.parent.postMessage("frame-loaded", "*");
     });
   </script>
</body>
</html>
